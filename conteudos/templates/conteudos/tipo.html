{% extends 'conteudos/base.html' %} {% load static %} {% block content %} {% load conteudo_extras %}

<section id="services">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">{{ tipo }}</h2>
                    <h3 class="section-subheading text-muted" style="background-color:transparent">{{tipo.descricao_tipo}}</h3>
                </div>
            </div>
        </div>
    </section>

<section id="tipos">
  <div class="container">
    <div class="row">
    {% for material in items %}
    <div class="col-md-3 col-sm-3">

        <div class="card border-primary">
            <img class="card-img-top" src="{{material.imagem_capa}}" style="width: 100%; height: 250px; object-fit: contain;" alt="Card image cap">
            <div class="card-header">
                <h3 class="card-title ">{{ material.titulo }}</h4>
            </div>
            <div class="card-body">

                {% if material.desc|length <= 220 %}
                    <p class="card-text" align="justify">{{ material.desc }}</p>
                {% else %}
                <p class="card-text" align="justify">{{ material.desc|truncatechars:220 }}<u><a href="#" data-toggle="modal" data-target="#myModal{{ forloop.counter }}">[Ver mais]</a></u></p>

                    <!-- Button trigger modal -->

                <!-- Inicio Modal -->
                <div class="modal fade" id="myModal{{ forloop.counter }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">{{ material.titulo }}</h4>
                      </div>
                      <div class="modal-body" style="text-align:center;">
                          <img class="card-img-top" src="{{material.imagem_capa}}" style="width: 50%; height: 250px; object-fit:contain;" alt="Card image cap">
                          <p align="center">{{ material.desc }}</p>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}
                <!-- Final Modal -->

                <p class= "card-text-tags" align="justify" >{{ material.tags }}</p>
                <br>
                <p class= "" align="justify" ><b>Valor:</b> R$ {{ material.preco }}</p>
            </div>
            <div class="card-footer" style="text-align:center">
                <a href="{{ material.link }}" class="btn ceu">Visualizar</a>
                <a href="{{ material.link_venda }}" class="btn limao">Comprar</a>
                </center>
            </div>
            </br>
            </br>

        </div>
    </div>

    {% empty %} {% endfor %}

  </div>
  </div>
</section>

{% endblock %}
